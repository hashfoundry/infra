# üìã –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ó–∞–¥–∞—á–∏ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ KServe –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 30 –∏—é–ª—è 2025  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1.5 —á–∞—Å–∞  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** KServe ML Deployment Team  

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ KServe platform –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π HA –∫–ª–∞—Å—Ç–µ—Ä —á–µ—Ä–µ–∑ Helm –∏ kubectl.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏

### 1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Cert-Manager —á–µ—Ä–µ–∑ Helm
- **Namespace:** `cert-manager`
- **–í–µ—Ä—Å–∏—è:** v1.13.0
- **–°—Ç–∞—Ç—É—Å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - cert-manager: 1/1 Running
  - cert-manager-cainjector: 1/1 Running
  - cert-manager-webhook: 1/1 Running

### 2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Istio —á–µ—Ä–µ–∑ Helm
- **Namespace:** `istio-system`
- **–í–µ—Ä—Å–∏—è:** 1.19.0
- **–°—Ç–∞—Ç—É—Å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - istiod: 1/1 Running

### 3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Knative Serving —á–µ—Ä–µ–∑ kubectl
- **Namespace:** `knative-serving`
- **–í–µ—Ä—Å–∏—è:** v1.11.0
- **–°—Ç–∞—Ç—É—Å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - activator: 1/1 Running
  - autoscaler: 1/1 Running
  - controller: 1/1 Running
  - net-istio-controller: 1/1 Running
  - net-istio-webhook: 1/1 Running
  - webhook: 1/1 Running

### 4. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ KServe —á–µ—Ä–µ–∑ kubectl
- **Namespace:** `kserve`
- **–í–µ—Ä—Å–∏—è:** v0.11.0
- **–°—Ç–∞—Ç—É—Å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - kserve-controller-manager: 2/2 Running

### 5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–í—Å–µ namespaces —Å–æ–∑–¥–∞–Ω—ã:** cert-manager, istio-system, knative-serving, kserve
- **–í—Å–µ pods –≤ —Å—Ç–∞—Ç—É—Å–µ Running**
- **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ**

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ namespaces:
```
cert-manager            Active   6m4s
istio-system            Active   4m4s
knative-serving         Active   2m58s
kserve                  Active   99s
```

### –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

#### Cert-Manager:
```
NAME                                      READY   STATUS    RESTARTS   AGE
cert-manager-7bc745d694-p5ft5             1/1     Running   0          5m12s
cert-manager-cainjector-576999846-mg4bf   1/1     Running   0          5m12s
cert-manager-webhook-58f47fbb6b-vt58h     1/1     Running   0          5m12s
```

#### Istio:
```
NAME                      READY   STATUS    RESTARTS   AGE
istiod-748d7b76dc-wzlws   1/1     Running   0          3m35s
```

#### Knative Serving:
```
NAME                                    READY   STATUS    RESTARTS   AGE
activator-8d45dd44d-zdtfz               1/1     Running   0          2m29s
autoscaler-7db9b8b664-gx9lq             1/1     Running   0          2m28s
controller-857d568577-5pfdj             1/1     Running   0          2m27s
net-istio-controller-54c54f4c55-fzswr   1/1     Running   0          2m8s
net-istio-webhook-6d6c9fdd5f-99l4f      1/1     Running   0          2m7s
webhook-8f6f6cf9-gvgvr                  1/1     Running   0          2m25s
```

#### KServe:
```
NAME                                         READY   STATUS    RESTARTS   AGE
kserve-controller-manager-7d4b55b658-c42m9   2/2     Running   0          71s
```

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
ha/k8s/addons/
‚îú‚îÄ‚îÄ cert-manager/
‚îÇ   ‚îú‚îÄ‚îÄ Chart.yaml                     # Helm chart –¥–ª—è Cert-Manager
‚îÇ   ‚îú‚îÄ‚îÄ values.yaml                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cert-Manager
‚îÇ   ‚îî‚îÄ‚îÄ charts/                        # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ istio/
‚îÇ   ‚îú‚îÄ‚îÄ Chart.yaml                     # Helm chart –¥–ª—è Istio
‚îÇ   ‚îú‚îÄ‚îÄ values.yaml                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Istio
‚îÇ   ‚îî‚îÄ‚îÄ charts/                        # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ knative-serving/
‚îÇ   ‚îî‚îÄ‚îÄ Chart.yaml                     # –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è Knative (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ kubectl)
‚îî‚îÄ‚îÄ kserve/
    ‚îú‚îÄ‚îÄ Chart.yaml                     # –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è KServe (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ kubectl)
    ‚îî‚îÄ‚îÄ templates/                     # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è templates
```

---

## üß™ –¢–µ—Å—Ç—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (–≤—ã–ø–æ–ª–Ω–µ–Ω—ã):
- [x] **Istio —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚úÖ
- [x] **Knative Serving —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç** ‚úÖ
- [x] **Cert-Manager —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç** ‚úÖ
- [x] **KServe Controller –∑–∞–ø—É—â–µ–Ω** ‚úÖ
- [x] **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—Ç–∞—Ç—É—Å–µ Ready** ‚úÖ

### –¢–µ—Å—Ç –∑–∞–¥–∞—á–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ KServe –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
kubectl get pods -n knative-serving
kubectl get pods -n istio-system
kubectl get pods -n cert-manager
kubectl get pods -n kserve

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—Ç–∞—Ç—É—Å–µ Running
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
- **Cert-Manager:** Helm chart (charts.jetstack.io)
- **Istio:** Helm chart (istio-release.storage.googleapis.com)
- **Knative Serving:** kubectl apply (github.com/knative/serving)
- **KServe:** kubectl apply (github.com/kserve/kserve)

### –†–µ—Å—É—Ä—Å—ã –∫–ª–∞—Å—Ç–µ—Ä–∞:
- **CPU –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** +2 cores –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Memory –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** +4GB –¥–ª—è Istio + Knative + KServe
- **Storage:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- **Cert-Manager:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- **Istio:** Service mesh —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **Knative Serving:** Serverless runtime —Å Istio networking
- **KServe:** ML inference platform —Å webhook –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

---

## üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **TLS –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ KServe:**
   - –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ü–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
   - –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
   - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

2. **Prometheus –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –û—Ç–∫–ª—é—á–µ–Ω –¥–ª—è Cert-Manager –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è ServiceMonitor CRD
   - –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ø–æ–∑–∂–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

3. **Helm vs kubectl —É—Å—Ç–∞–Ω–æ–≤–∫–∞:**
   - Knative –∏ KServe —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ kubectl
   - Helm charts –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–ª–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ó–∞–¥–∞—á–∏ 3 (–°–æ–∑–¥–∞–Ω–∏–µ InferenceService):
1. **–°–æ–∑–¥–∞–Ω–∏–µ namespace –¥–ª—è ML –º–æ–¥–µ–ª–µ–π**
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ DigitalOcean Spaces**
3. **–°–æ–∑–¥–∞–Ω–∏–µ InferenceService –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞**
4. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Iris classifier –º–æ–¥–µ–ª–∏**

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è KServe**
2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è auto-scaling**
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ security policies**

---

## üìà –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ó–ê–î–ê–ß–ï 3

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ó–∞–¥–∞—á–∏ 3 (–°–æ–∑–¥–∞–Ω–∏–µ InferenceService) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:
- KServe Controller –≥–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é InferenceService
- Knative Serving –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é ML workloads
- Istio –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç networking
- Cert-Manager –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø—É—Å–∫—É TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ó–∞–¥–∞—á–∞ 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞** —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π. KServe platform –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é ML –º–æ–¥–µ–ª–µ–π. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤ HA –∫–ª–∞—Å—Ç–µ—Ä–µ.

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1.5 —á–∞—Å–∞ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–ª–∞–Ω–æ–º)  
**–ö–∞—á–µ—Å—Ç–≤–æ:** –í—ã—Å–æ–∫–æ–µ (–≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 100% –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –ó–∞–¥–∞—á–µ 3  

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 30 –∏—é–ª—è 2025, 15:03 UTC+4*  
*–í–µ—Ä—Å–∏—è: 1.0*  
*–°—Ç–∞—Ç—É—Å: –§–∏–Ω–∞–ª—å–Ω—ã–π*
