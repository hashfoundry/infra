# 160. –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ?

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è?**

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Kubernetes** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å –º–µ—Ä –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ (HPA), –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ (VPA) –∏ –∫–ª–∞—Å—Ç–µ—Ä–Ω–æ–≥–æ (Cluster Autoscaler) –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞—Ç—Ä–∞—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω—è—é—â–∏—Ö—Å—è –Ω–∞–≥—Ä—É–∑–∫–∞—Ö.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **1. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (HPA)**
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ/—É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–æ–≤
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è stateless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –º–µ—Ç—Ä–∏–∫–∞—Ö CPU, Memory, Custom metrics
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

### **2. –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (VPA)**
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU/Memory) –ø–æ–¥–æ–≤
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è stateful –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è resource requests/limits
- –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ–¥–æ–≤

### **3. –ö–ª–∞—Å—Ç–µ—Ä–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (CA)**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–µ—Ö–≤–∞—Ç–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –æ–±–ª–∞—á–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

### **4. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HPA + VPA
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

## üìä **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ HA –∫–ª–∞—Å—Ç–µ—Ä–∞:**

### **1. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ HPA
kubectl get hpa --all-namespaces -o wide

# –ü—Ä–æ–≤–µ—Ä–∫–∞ VPA
kubectl get vpa --all-namespaces

# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl top nodes
kubectl top pods --all-namespaces --sort-by=cpu | head -10

# –°–æ–±—ã—Ç–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
kubectl get events --all-namespaces --field-selector reason=SuccessfulRescale --sort-by=.metadata.creationTimestamp | tail -10
```

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
# –ê–Ω–∞–ª–∏–∑ HPA –º–µ—Ç—Ä–∏–∫
kubectl describe hpa -n argocd argocd-server-hpa
kubectl describe hpa -n monitoring prometheus-hpa

# –ü—Ä–æ–≤–µ—Ä–∫–∞ VPA —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
kubectl describe vpa -n monitoring prometheus-vpa

# –°—Ç–∞—Ç—É—Å Cluster Autoscaler
kubectl get pods -n kube-system -l app=cluster-autoscaler
kubectl logs -n kube-system -l app=cluster-autoscaler --tail=50
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
# –ê–Ω–∞–ª–∏–∑ resource requests/limits
kubectl get pods --all-namespaces -o json | jq -r '.items[] | select(.spec.containers[].resources.requests.cpu != null) | "\(.metadata.namespace)/\(.metadata.name): CPU=\(.spec.containers[0].resources.requests.cpu), Memory=\(.spec.containers[0].resources.requests.memory)"'

# –ü–æ–∏—Å–∫ –ø–æ–¥–æ–≤ –±–µ–∑ resource requests
kubectl get pods --all-namespaces -o json | jq -r '.items[] | select(.spec.containers[].resources.requests == null) | "\(.metadata.namespace)/\(.metadata.name)"'
```

## üîÑ **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ HPA:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç advanced-hpa-setup.sh
cat << 'EOF' > advanced-hpa-setup.sh
#!/bin/bash

echo "üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ HPA –¥–ª—è HA –∫–ª–∞—Å—Ç–µ—Ä–∞"
echo "============================================="

# –°–æ–∑–¥–∞–Ω–∏–µ HPA –¥–ª—è ArgoCD —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
echo "üìä –°–æ–∑–¥–∞–Ω–∏–µ multi-metric HPA –¥–ª—è ArgoCD:"
cat << 'ARGOCD_HPA_EOF' | kubectl apply -f -
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: argocd-server-advanced-hpa
  namespace: argocd
  labels:
    component: argocd-server
    optimization: advanced-scaling
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: argocd-server
  minReplicas: 2
  maxReplicas: 8
  metrics:
  # CPU –º–µ—Ç—Ä–∏–∫–∞
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  # Memory –º–µ—Ç—Ä–∏–∫–∞
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
  # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –º–µ—Ç—Ä–∏–∫–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
  - type: Object
    object:
      metric:
        name: argocd_app_count
      describedObject:
        apiVersion: v1
        kind: Service
        name: argocd-server
      target:
        type: Value
        value: "50"
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 300  # 5 –º–∏–Ω—É—Ç —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
      policies:
      - type: Percent
        value: 25                      # –ú–∞–∫—Å–∏–º—É–º 25% –∑–∞ —Ä–∞–∑
        periodSeconds: 60
      - type: Pods
        value: 1                       # –ú–∞–∫—Å–∏–º—É–º 1 –ø–æ–¥ –∑–∞ —Ä–∞–∑
        periodSeconds: 60
      selectPolicy: Min                # –í—ã–±—Ä–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    scaleUp:
      stabilizationWindowSeconds: 60   # 1 –º–∏–Ω—É—Ç–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
      policies:
      - type: Percent
        value: 100                     # –ú–∞–∫—Å–∏–º—É–º 100% –∑–∞ —Ä–∞–∑
        periodSeconds: 30
      - type: Pods
        value: 2                       # –ú–∞–∫—Å–∏–º—É–º 2 –ø–æ–¥–∞ –∑–∞ —Ä–∞–∑
        periodSeconds: 30
      selectPolicy: Max                # –í—ã–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
ARGOCD_HPA_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ HPA –¥–ª—è Prometheus —Å –≤–Ω–µ—à–Ω–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
echo -e "\nüìà –°–æ–∑–¥–∞–Ω–∏–µ external-metrics HPA –¥–ª—è Prometheus:"
cat << 'PROMETHEUS_HPA_EOF' | kubectl apply -f -
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: prometheus-server-advanced-hpa
  namespace: monitoring
  labels:
    component: prometheus
    optimization: external-metrics
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: prometheus-server
  minReplicas: 1
  maxReplicas: 4
  metrics:
  # CPU –º–µ—Ç—Ä–∏–∫–∞
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 75
  # –í–Ω–µ—à–Ω—è—è –º–µ—Ç—Ä–∏–∫–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - type: External
    external:
      metric:
        name: prometheus_active_queries
        selector:
          matchLabels:
            service: prometheus-server
      target:
        type: Value
        value: "100"
  # –í–Ω–µ—à–Ω—è—è –º–µ—Ç—Ä–∏–∫–∞ - —Ä–∞–∑–º–µ—Ä TSDB
  - type: External
    external:
      metric:
        name: prometheus_tsdb_size_bytes
        selector:
          matchLabels:
            service: prometheus-server
      target:
        type: Value
        value: "10737418240"  # 10GB
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 600  # 10 –º–∏–Ω—É—Ç —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
      policies:
      - type: Pods
        value: 1
        periodSeconds: 300
    scaleUp:
      stabilizationWindowSeconds: 120  # 2 –º–∏–Ω—É—Ç—ã —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
      policies:
      - type: Pods
        value: 1
        periodSeconds: 60
PROMETHEUS_HPA_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ HPA –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
echo -e "\nüîÆ –°–æ–∑–¥–∞–Ω–∏–µ predictive HPA –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:"
cat << 'PREDICTIVE_HPA_EOF' | kubectl apply -f -
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: hashfoundry-app-predictive-hpa
  namespace: default
  labels:
    component: hashfoundry-app
    optimization: predictive-scaling
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: hashfoundry-react-app
  minReplicas: 3
  maxReplicas: 20
  metrics:
  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 60
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 70
  # –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  - type: External
    external:
      metric:
        name: predicted_load_next_5min
        selector:
          matchLabels:
            app: hashfoundry-react-app
      target:
        type: Value
        value: "80"
  behavior:
    scaleUp:
      stabilizationWindowSeconds: 30   # –ë—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö
      policies:
      - type: Percent
        value: 50
        periodSeconds: 30
    scaleDown:
      stabilizationWindowSeconds: 300  # –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–∏–∑
      policies:
      - type: Percent
        value: 10
        periodSeconds: 60
PREDICTIVE_HPA_EOF

echo -e "\nüìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö HPA:"
kubectl get hpa --all-namespaces -l optimization
kubectl describe hpa argocd-server-advanced-hpa -n argocd

echo "‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ HPA –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã"
EOF

chmod +x advanced-hpa-setup.sh
```

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ VPA:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç advanced-vpa-setup.sh
cat << 'EOF' > advanced-vpa-setup.sh
#!/bin/bash

echo "üìà –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ VPA –¥–ª—è HA –∫–ª–∞—Å—Ç–µ—Ä–∞"
echo "============================================="

# –°–æ–∑–¥–∞–Ω–∏–µ VPA –¥–ª—è Prometheus —Å —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
echo "üéØ –°–æ–∑–¥–∞–Ω–∏–µ precision VPA –¥–ª—è Prometheus:"
cat << 'PROMETHEUS_VPA_EOF' | kubectl apply -f -
apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: prometheus-server-precision-vpa
  namespace: monitoring
  labels:
    component: prometheus
    optimization: precision-scaling
spec:
  targetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: prometheus-server
  updatePolicy:
    updateMode: "Auto"              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    minReplicas: 1                  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫
  resourcePolicy:
    containerPolicies:
    - containerName: prometheus-server
      minAllowed:
        cpu: 500m
        memory: 1Gi
      maxAllowed:
        cpu: "4"
        memory: 16Gi
      controlledResources: ["cpu", "memory"]
      controlledValues: RequestsAndLimits
      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ scaling policy
      mode: Auto
    - containerName: prometheus-server-configmap-reload
      mode: "Off"                   # –û—Ç–∫–ª—é—á–∏—Ç—å VPA –¥–ª—è sidecar
      minAllowed:
        cpu: 10m
        memory: 32Mi
      maxAllowed:
        cpu: 100m
        memory: 128Mi
PROMETHEUS_VPA_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ VPA –¥–ª—è Grafana —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
echo -e "\nüí° –°–æ–∑–¥–∞–Ω–∏–µ recommendation-only VPA –¥–ª—è Grafana:"
cat << 'GRAFANA_VPA_EOF' | kubectl apply -f -
apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: grafana-recommendations-vpa
  namespace: monitoring
  labels:
    component: grafana
    optimization: recommendations-only
spec:
  targetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: grafana
  updatePolicy:
    updateMode: "Off"               # –¢–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  resourcePolicy:
    containerPolicies:
    - containerName: grafana
      minAllowed:
        cpu: 100m
        memory: 256Mi
      maxAllowed:
        cpu: "2"
        memory: 4Gi
      controlledResources: ["cpu", "memory"]
      controlledValues: RequestsAndLimits
GRAFANA_VPA_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ VPA –¥–ª—è ArgoCD —Å —Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
echo -e "\nüéõÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ selective VPA –¥–ª—è ArgoCD:"
cat << 'ARGOCD_VPA_EOF' | kubectl apply -f -
apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: argocd-server-selective-vpa
  namespace: argocd
  labels:
    component: argocd-server
    optimization: selective-scaling
spec:
  targetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: argocd-server
  updatePolicy:
    updateMode: "Auto"
    minReplicas: 2
  resourcePolicy:
    containerPolicies:
    - containerName: argocd-server
      controlledResources: ["memory"]  # –¢–æ–ª—å–∫–æ –ø–∞–º—è—Ç—å –¥–ª—è VPA
      controlledValues: RequestsAndLimits
      minAllowed:
        memory: 512Mi
      maxAllowed:
        memory: 8Gi
      mode: Auto
    # CPU —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ HPA, –ø–æ—ç—Ç–æ–º—É –∏—Å–∫–ª—é—á–∞–µ–º –∏–∑ VPA
ARGOCD_VPA_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ VPA –¥–ª—è NFS Provisioner
echo -e "\nüíæ –°–æ–∑–¥–∞–Ω–∏–µ storage-optimized VPA –¥–ª—è NFS Provisioner:"
cat << 'NFS_VPA_EOF' | kubectl apply -f -
apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: nfs-provisioner-optimized-vpa
  namespace: default
  labels:
    component: nfs-provisioner
    optimization: storage-optimized
spec:
  targetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: nfs-provisioner
  updatePolicy:
    updateMode: "Initial"           # –¢–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–¥–æ–≤
  resourcePolicy:
    containerPolicies:
    - containerName: nfs-provisioner
      minAllowed:
        cpu: 100m
        memory: 256Mi
      maxAllowed:
        cpu: "1"
        memory: 2Gi
      controlledResources: ["cpu", "memory"]
      controlledValues: RequestsOnly  # –¢–æ–ª—å–∫–æ requests
NFS_VPA_EOF

echo -e "\nüìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö VPA:"
kubectl get vpa --all-namespaces -l optimization
kubectl describe vpa prometheus-server-precision-vpa -n monitoring

echo -e "\nüí° VPA —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:"
kubectl get vpa --all-namespaces -o custom-columns=\
NAMESPACE:.metadata.namespace,\
NAME:.metadata.name,\
MODE:.spec.updatePolicy.updateMode,\
CPU_TARGET:.status.recommendation.containerRecommendations[0].target.cpu,\
MEMORY_TARGET:.status.recommendation.containerRecommendations[0].target.memory

echo "‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ VPA –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã"
EOF

chmod +x advanced-vpa-setup.sh
```

### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cluster Autoscaler:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç cluster-autoscaler-setup.sh
cat << 'EOF' > cluster-autoscaler-setup.sh
#!/bin/bash

echo "üèóÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cluster Autoscaler –¥–ª—è HA –∫–ª–∞—Å—Ç–µ—Ä–∞"
echo "=============================================="

# –°–æ–∑–¥–∞–Ω–∏–µ ServiceAccount –¥–ª—è Cluster Autoscaler
echo "üîê –°–æ–∑–¥–∞–Ω–∏–µ ServiceAccount –∏ RBAC:"
cat << 'RBAC_EOF' | kubectl apply -f -
apiVersion: v1
kind: ServiceAccount
metadata:
  name: cluster-autoscaler
  namespace: kube-system
  labels:
    k8s-addon: cluster-autoscaler.addons.k8s.io
    k8s-app: cluster-autoscaler
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: cluster-autoscaler
  labels:
    k8s-addon: cluster-autoscaler.addons.k8s.io
    k8s-app: cluster-autoscaler
rules:
- apiGroups: [""]
  resources: ["events", "endpoints"]
  verbs: ["create", "patch"]
- apiGroups: [""]
  resources: ["pods/eviction"]
  verbs: ["create"]
- apiGroups: [""]
  resources: ["pods/status"]
  verbs: ["update"]
- apiGroups: [""]
  resources: ["endpoints"]
  resourceNames: ["cluster-autoscaler"]
  verbs: ["get", "update"]
- apiGroups: [""]
  resources: ["nodes"]
  verbs: ["watch", "list", "get", "update"]
- apiGroups: [""]
  resources: ["pods", "services", "replicationcontrollers", "persistentvolumeclaims", "persistentvolumes"]
  verbs: ["watch", "list", "get"]
- apiGroups: ["extensions"]
  resources: ["replicasets", "daemonsets"]
  verbs: ["watch", "list", "get"]
- apiGroups: ["policy"]
  resources: ["poddisruptionbudgets"]
  verbs: ["watch", "list"]
- apiGroups: ["apps"]
  resources: ["statefulsets", "replicasets", "daemonsets"]
  verbs: ["watch", "list", "get"]
- apiGroups: ["storage.k8s.io"]
  resources: ["storageclasses", "csinodes"]
  verbs: ["watch", "list", "get"]
- apiGroups: ["batch", "extensions"]
  resources: ["jobs"]
  verbs: ["get", "list", "watch", "patch"]
- apiGroups: ["coordination.k8s.io"]
  resources: ["leases"]
  verbs: ["create"]
- apiGroups: ["coordination.k8s.io"]
  resourceNames: ["cluster-autoscaler"]
  resources: ["leases"]
  verbs: ["get", "update"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: cluster-autoscaler
  labels:
    k8s-addon: cluster-autoscaler.addons.k8s.io
    k8s-app: cluster-autoscaler
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-autoscaler
subjects:
- kind: ServiceAccount
  name: cluster-autoscaler
  namespace: kube-system
RBAC_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Cluster Autoscaler
echo -e "\n‚öôÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Cluster Autoscaler:"
cat << 'CA_DEPLOYMENT_EOF' | kubectl apply -f -
apiVersion: apps/v1
kind: Deployment
metadata:
  name: cluster-autoscaler
  namespace: kube-system
  labels:
    app: cluster-autoscaler
    optimization: ha-cluster
spec:
  replicas: 1
  selector:
    matchLabels:
      app: cluster-autoscaler
  template:
    metadata:
      labels:
        app: cluster-autoscaler
      annotations:
        prometheus.io/scrape: 'true'
        prometheus.io/port: '8085'
    spec:
      priorityClassName: system-cluster-critical
      securityContext:
        runAsNonRoot: true
        runAsUser: 65534
        fsGroup: 65534
      serviceAccountName: cluster-autoscaler
      containers:
      - image: k8s.gcr.io/autoscaling/cluster-autoscaler:v1.21.0
        name: cluster-autoscaler
        resources:
          limits:
            cpu: 100m
            memory: 600Mi
          requests:
            cpu: 100m
            memory: 600Mi
        command:
        - ./cluster-autoscaler
        - --v=4
        - --stderrthreshold=info
        - --cloud-provider=digitalocean
        - --skip-nodes-with-local-storage=false
        - --expander=least-waste
        - --node-group-auto-discovery=digitalocean:tag=k8s.io/cluster-autoscaler/enabled,k8s.io/cluster-autoscaler/hashfoundry-ha
        - --balance-similar-node-groups=true
        - --scale-down-enabled=true
        - --scale-down-delay-after-add=10m
        - --scale-down-unneeded-time=10m
        - --scale-down-utilization-threshold=0.5
        - --scale-down-gpu-utilization-threshold=0.5
        - --scale-down-delay-after-delete=10s
        - --scale-down-delay-after-failure=3m
        - --max-node-provision-time=15m
        - --max-empty-bulk-delete=10
        - --max-graceful-termination-sec=600
        - --max-total-unready-percentage=45
        - --max-node-group-size=10
        - --min-replica-count=0
        - --skip-nodes-with-system-pods=false
        - --logtostderr=true
        - --write-status-configmap=true
        - --status-config-map-name=cluster-autoscaler-status
        - --leader-elect=false
        env:
        - name: DO_TOKEN
          valueFrom:
            secretKeyRef:
              name: digitalocean-secret
              key: access-token
        volumeMounts:
        - name: ssl-certs
          mountPath: /etc/ssl/certs/ca-certificates.crt
          readOnly: true
        imagePullPolicy: "Always"
        ports:
        - containerPort: 8085
          name: metrics
          protocol: TCP
      volumes:
      - name: ssl-certs
        hostPath:
          path: "/etc/ssl/certs/ca-bundle.crt"
      nodeSelector:
        kubernetes.io/os: linux
      tolerations:
      - effect: NoSchedule
        operator: Equal
        key: node-role.kubernetes.io/master
CA_DEPLOYMENT_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ ConfigMap –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Cluster Autoscaler
echo -e "\nüìä –°–æ–∑–¥–∞–Ω–∏–µ ConfigMap –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:"
cat << 'CA_CONFIGMAP_EOF' | kubectl apply -f -
apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-autoscaler-status
  namespace: kube-system
  labels:
    app: cluster-autoscaler
data:
  nodes.max: "10"
  nodes.min: "3"
  scale-down-delay-after-add: "10m"
  scale-down-unneeded-time: "10m"
  scale-down-utilization-threshold: "0.5"
  max-node-provision-time: "15m"
  expander: "least-waste"
CA_CONFIGMAP_EOF

# –°–æ–∑–¥–∞–Ω–∏–µ Service –¥–ª—è –º–µ—Ç—Ä–∏–∫
echo -e "\nüìà –°–æ–∑–¥–∞–Ω–∏–µ Service –¥–ª—è –º–µ—Ç—Ä–∏–∫:"
cat << 'CA_SERVICE_EOF' | kubectl apply -f -
apiVersion: v1
kind: Service
metadata:
  name: cluster-autoscaler-metrics
  namespace: kube-system
  labels:
    app: cluster-autoscaler
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "8085"
spec:
  selector:
    app: cluster-autoscaler
  ports:
  - name: metrics
    port: 8085
    targetPort: 8085
    protocol: TCP
  type: ClusterIP
CA_SERVICE_EOF

echo -e "\nüìä –ü—Ä–æ–≤–µ—Ä–∫–∞ Cluster Autoscaler:"
kubectl get deployment cluster-autoscaler -n kube-system
kubectl get pods -n kube-system -l app=cluster-autoscaler
kubectl get configmap cluster-autoscaler-status -n kube-system

echo "‚úÖ Cluster Autoscaler –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
EOF

chmod +x cluster-autoscaler-setup.sh
```

## üîß **–°–∫—Ä–∏–ø—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç scaling-monitor.sh
cat << 'EOF' > scaling-monitor.sh
#!/bin/bash

echo "üìä –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è HA –∫–ª–∞—Å—Ç–µ—Ä–∞"
echo "=================================================="

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è HPA —Å—Ç–∞—Ç—É—Å–∞
show_hpa_status() {
    echo "üîÑ HPA –°–¢–ê–¢–£–°:"
    kubectl get hpa --all-namespaces -o custom-columns=\
NAMESPACE:.metadata.namespace,\
NAME:.metadata.name,\
TARGETS:.status.currentMetrics[0].resource.current.averageUtilization,\
MINPODS:.spec.minReplicas,\
MAXPODS:.spec.maxReplicas,\
REPLICAS:.status.currentReplicas,\
AGE:.metadata.creationTimestamp
    
    echo -e "\nüìà HPA –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:"
    for hpa in $(kubectl get hpa --all-namespaces -o jsonpath='{range .items[*]}{.metadata.namespace}{" "}{.metadata.name}{"\n"}{end}'); do
        namespace=$(echo $hpa | cut -d' ' -f1)
        name=$(echo $hpa | cut -d' ' -f2)
        echo "=== $namespace/$name ==="
        kubectl describe hpa $name -n $namespace | grep -A 10 -B 5 "Metrics\|Events"
        echo
    done
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è VPA —Å—Ç–∞—Ç—É—Å–∞
show_vpa_status() {
    echo "üìä VPA –°–¢–ê–¢–£–°:"
    kubectl get vpa --all-namespaces -o custom-columns=\
NAMESPACE:.metadata.namespace,\
NAME:.metadata.name,\
MODE:.spec.updatePolicy.updateMode,\
CPU_TARGET:.status.recommendation.containerRecommendations[0].target.cpu,\
MEMORY_TARGET:.status.recommendation.containerRecommendations[0].target.memory,\
AGE:.metadata.creationTimestamp
    
    echo -e "\nüí° VPA —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ vs —Ç–µ–∫—É—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã:"
    for vpa in $(kubectl get vpa --all-namespaces -o jsonpath='{range .items[*]}{.metadata.namespace}{" "}{.metadata.name}{"\n"}{end}'); do
        namespace=$(echo $vpa | cut -d' ' -f1)
        name=$(echo $vpa | cut -d' ' -f2)
        echo "=== $namespace/$name ==="
        kubectl describe vpa $name -n $namespace | grep -A 15 "Container Recommendations"
        echo
    done
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è Cluster Autoscaler —Å—Ç–∞—Ç—É—Å–∞
show_cluster_autoscaler_status() {
    echo "üèóÔ∏è CLUSTER AUTOSCALER –°–¢–ê–¢–£–°:"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–≤ Cluster Autoscaler
    echo "Cluster Autoscaler –ø–æ–¥—ã:"
    kubectl get pods -n kube-system -l app=cluster-autoscaler -o wide
    
    # –°—Ç–∞—Ç—É—Å —É–∑–ª–æ–≤
    echo -e "\n–°—Ç–∞—Ç—É—Å —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞:"
    kubectl get nodes -o custom-columns=\
NAME:.metadata.name,\
STATUS:.status.conditions[-1].type,\
ROLES:.metadata.labels.'node-role\.kubernetes\.io/master',\
AGE:.metadata.creationTimestamp,\
INSTANCE-TYPE:.metadata.labels.'node\.kubernetes\.io/instance-type'
    
    # ConfigMap —Å—Ç–∞—Ç—É—Å
    echo -e "\nCluster Autoscaler –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:"
    kubectl get configmap cluster-autoscaler-status -n kube-system -o yaml | grep -A 20 "data:"
    
    # –õ–æ–≥–∏ Cluster Autoscaler
    echo -e "\n–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ Cluster Autoscaler:"
    kubectl logs -n kube-system -l app=cluster-autoscaler --tail=10
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
analyze_scaling_efficiency() {
    echo "üìà –ê–ù–ê–õ–ò–ó –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–Ø:"
    
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —É–∑–ª–æ–≤
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —É–∑–ª–æ–≤:"
    kubectl top nodes
    
    # –¢–æ–ø –ø–æ–¥–æ–≤ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤
    echo -e "\n–¢–æ–ø –ø–æ–¥–æ–≤ –ø–æ CPU:"
    kubectl top pods --all-namespaces --sort-by=cpu | head -10
    
    echo -e "\n–¢–æ–ø –ø–æ–¥–æ–≤ –ø–æ Memory:"
    kubectl top pods --all-namespaces --sort-by=memory | head -10
    
    # –°–æ–±—ã—Ç–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
    echo -e "\n–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:"
    kubectl get events --all-namespaces --field-selector reason=SuccessfulRescale \
      --sort-by=.metadata.creationTimestamp | tail -10
    
    # –ê–Ω–∞–ª–∏–∑ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    echo -e "\n‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:"
    
    # –ü–æ–¥—ã –±–µ–∑ resource requests
    no_requests=$(kubectl get pods --all-namespaces -o json | \
    jq -r '.items[] | select(.spec.containers[].resources.requests == null) | "\(.metadata.namespace)/\(.metadata.name)"' | wc -l)
    echo "–ü–æ–¥—ã –±–µ–∑ resource requests: $no_requests"
    
    # HPA —Å –≤—ã—Å–æ–∫–∏–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
    high_max_replicas=$(kubectl get hpa --all-namespaces -o json | \
    jq -r '.items[] | select(.spec.maxReplicas > 20) | "\(.metadata.namespace)/\(.metadata.name): \(.spec.maxReplicas)"' | wc -l)
    echo "HPA —Å –≤—ã—Å–æ–∫–∏–º–∏ maxReplicas (>20): $high_max_replicas"
    
    # VPA –≤ —Ä–µ–∂–∏–º–µ Auto –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    unlimited_vpa=$(kubectl get vpa --all-namespaces -o json | \
    jq -r '.items[] | select(.spec.updatePolicy.updateMode == "Auto" and .spec.resourcePolicy.containerPolicies[].maxAllowed == null) | "\(.metadata.namespace)/\(.metadata.name)"' | wc -l)
    echo "VPA –≤ Auto —Ä–µ–∂–∏–º–µ –±–µ–∑ maxAllowed: $unlimited_vpa"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞ –æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏
generate_scaling_report() {
    echo "üìã –û–¢–ß–ï–¢ –û –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ò:"
    
    # –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    total_hpa=$(kubectl get hpa --all-namespaces --no-headers | wc -l)
    total_vpa=$(kubectl get vpa --all-namespaces --no-headers | wc -l)
    total_nodes=$(kubectl get nodes --no-headers | wc -l)
    
    echo "–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:"
    echo "- HPA –æ–±—ä–µ–∫—Ç–æ–≤: $total_hpa"
    echo "- VPA –æ–±—ä–µ–∫—Ç–æ–≤: $total_vpa"
    echo "- –£–∑–ª–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ: $total_nodes"
    
    # –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
    echo -e "\n–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:"
    kubectl get hpa --all-namespaces -o json | \
    jq -r '.items[] | "\(.metadata.namespace)/\(.metadata.name): Current=\(.status.currentReplicas), Desired=\(.status.desiredReplicas), Min=\(.spec.minReplicas), Max=\(.spec.maxReplicas)"'
    
    # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    echo -e "\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:"
    echo "1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ behavior policies –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo "2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multiple metrics –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo "3. –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ HPA –∏ VPA –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"
    echo "4. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Grafana"
    echo "5. –†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫"
}

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
echo "üöÄ –ó–ê–ü–£–°–ö –ö–û–ú–ü–õ–ï–ö–°–ù–û–ì–û –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê:"
echo "=================================="

show_hpa_status
show_vpa_status
show_cluster_autoscaler_status
analyze_scaling_efficiency
generate_scaling_report

echo -e "\n‚úÖ –ú–û–ù–ò–¢–û–†–ò–ù–ì –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–Ø –ó–ê–í–ï–†–®–ï–ù!"
echo "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:"
echo "- ./advanced-hpa-setup.sh"
echo "- ./advanced-vpa-setup.sh"
echo "- ./cluster-autoscaler-setup.sh"
EOF

chmod +x scaling-monitor.sh
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç auto-scaling-optimizer.sh
cat << 'EOF' > auto-scaling-optimizer.sh
#!/bin/bash

echo "üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è"
echo "==========================================="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ prerequisites
check_prerequisites() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ prerequisites:"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ metrics-server
    if kubectl get deployment metrics-server -n kube-system >/dev/null 2>&1; then
        echo "‚úÖ Metrics Server —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
    else
        echo "‚ùå Metrics Server –Ω–µ –Ω–∞–π–¥–µ–Ω - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º..."
        kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ VPA
    if kubectl get crd verticalpodautoscalers.autoscaling.k8s.io >/dev/null 2>&1; then
        echo "‚úÖ VPA CRD —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
    else
        echo "‚ùå VPA –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞"
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ Prometheus
    if kubectl get svc prometheus-server -n monitoring >/dev/null 2>&1; then
        echo "‚úÖ Prometheus –¥–æ—Å—Ç—É–ø–µ–Ω"
    else
        echo "‚ö†Ô∏è Prometheus –Ω–µ –Ω–∞–π–¥–µ–Ω - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"
    fi
}

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ HPA
auto_configure_hpa() {
    echo -e "\nüîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ HPA:"
    
    # –ù–∞–π—Ç–∏ Deployments –±–µ–∑ HPA
    deployments_without_hpa=$(kubectl get deployments --all-namespaces -o json | \
    jq -r '.items[] | select(.spec.replicas > 1) | "\(.metadata.namespace) \(.metadata.name)"')
    
    while IFS= read -r deployment; do
        if [[ -n "$deployment" ]]; then
            namespace=$(echo $deployment | cut -d' ' -f1)
            name=$(echo $deployment | cut -d' ' -f2)
            
            # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É–∂–µ HPA
            if ! kubectl get hpa $name -n $namespace >/dev/null 2>&1; then
                echo "–°–æ–∑–¥–∞–Ω–∏–µ HPA –¥–ª—è $namespace/$name"
                
                cat << HPA_EOF | kubectl apply -f -
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ${name}-auto-hpa
  namespace: $namespace
  labels:
    auto-generated: "true"
    optimization: auto-scaling
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: $name
  minReplicas: 2
  maxReplicas: 6
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 300
      policies:
      - type: Percent
        value: 25
        periodSeconds: 60
    scaleUp:
      stabilizationWindowSeconds: 60
      policies:
      - type: Percent
        value: 50
        periodSeconds: 30
HPA_EOF
            fi
        fi
    done <<< "$deployments_without_hpa"
}

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPA
auto_configure_vpa() {
    echo -e "\nüìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPA:"
    
    # –ù–∞–π—Ç–∏ Deployments –±–µ–∑ VPA
    deployments_without_vpa=$(kubectl get deployments --all-namespaces -o json | \
    jq -r '.items[] | "\(.metadata.namespace) \(.metadata.name)"')
    
    while IFS= read -r deployment; do
        if [[ -n "$deployment" ]]; then
            namespace=$(echo $deployment | cut -d' ' -f1)
            name=$(echo $deployment | cut -d' ' -f2)
            
            # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É–∂–µ VPA
            if ! kubectl get vpa $name-vpa -n $namespace >/dev/null 2>&1; then
                echo "–°–æ–∑–¥–∞–Ω–∏–µ VPA –¥–ª—è $namespace/$name"
                
                cat << VPA_EOF | kubectl apply -f -
apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: ${name}-auto-vpa
  namespace: $namespace
  labels:
    auto-generated: "true"
    optimization: auto-scaling
spec:
  targetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: $name
  updatePolicy:
    updateMode: "Off"  # –¢–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  resourcePolicy:
    containerPolicies:
    - containerName: '*'
      minAllowed:
        cpu: 50m
        memory: 64Mi
      maxAllowed:
        cpu: "2"
        memory: 4Gi
      controlledResources: ["cpu", "memory"]
VPA_EOF
            fi
        fi
    done <<< "$deployments_without_vpa"
}

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö HPA
optimize_existing_hpa() {
    echo -e "\n‚öôÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö HPA:"
    
    # –ù–∞–π—Ç–∏ HPA —Å –±–∞–∑–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    kubectl get hpa --all-namespaces -o json | \
    jq -r '.items[] | select(.spec.behavior == null) | "\(.metadata.namespace) \(.metadata.name)"' | \
    while IFS= read -r hpa; do
        if [[ -n "$hpa" ]]; then
            namespace=$(echo $hpa | cut -d' ' -f1)
            name=$(echo $hpa | cut -d' ' -f2)
            
            echo "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è HPA $namespace/$name"
            
            # –î–æ–±–∞–≤–∏—Ç—å behavior policies
            kubectl patch hpa $name -n $namespace --type='merge' -p='
{
  "spec": {
    "behavior": {
      "scaleDown": {
        "stabilizationWindowSeconds": 300,
        "policies": [
          {
            "type": "Percent",
            "value": 25,
            "periodSeconds": 60
          }
        ]
      },
      "scaleUp": {
        "stabilizationWindowSeconds": 60,
        "policies": [
          {
            "type": "Percent",
            "value": 50,
            "periodSeconds": 30
          }
        ]
      }
    }
  }
}'
        fi
    done
}

# –ó–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
echo "üöÄ –ó–ê–ü–£–°–ö –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ô –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:"
echo "===================================="

check_prerequisites
auto_configure_hpa
auto_configure_vpa
optimize_existing_hpa

echo -e "\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:"
kubectl get hpa --all-namespaces -l auto-generated=true
kubectl get vpa --all-namespaces -l auto-generated=true

echo -e "\n‚úÖ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!"
echo "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ HPA –∏ VPA –æ–±—ä–µ–∫—Ç—ã"
echo "–ó–∞–ø—É—Å—Ç–∏—Ç–µ ./scaling-monitor.sh –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"
EOF

chmod +x auto-scaling-optimizer.sh
```

## üìä **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Optimized Scaling Architecture                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Horizontal Pod Autoscaler (HPA)                           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Multi-metric scaling (CPU, Memory, Custom)            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Behavior policies (stabilization, rate limiting)     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Predictive scaling (historical data)                 ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ External metrics integration                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Vertical Pod Autoscaler (VPA)                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Resource recommendations (CPU/Memory)                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Automatic resource adjustment                         ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Container-specific policies                           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Integration with HPA (selective control)              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Cluster Autoscaler (CA)                                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Node provisioning/deprovisioning                      ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Cost optimization (least-waste expander)              ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Multi-zone balancing                                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Integration with cloud providers                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Monitoring & Optimization                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Real-time metrics collection                          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Scaling efficiency analysis                           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Automated optimization recommendations                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Cost and performance reporting                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéØ **Best Practices –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **1. HPA –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multiple metrics –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ behavior policies –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ external metrics –¥–ª—è business-specific scaling
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ stabilization windows

### **2. VPA –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
- –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å —Ä–µ–∂–∏–º–∞ "Off" –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ container-specific policies
- –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å HPA –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### **3. Cluster Autoscaler –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ scale-down –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ node affinity –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ cost efficiency
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ multi-zone balancing

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ scaling events –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ resource utilization patterns
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ alerting –¥–ª—è scaling anomalies
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –∫–ª—é—á –∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ–º—É Kubernetes –∫–ª–∞—Å—Ç–µ—Ä—É!**
