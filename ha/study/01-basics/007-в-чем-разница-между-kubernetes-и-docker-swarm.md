# 7. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Kubernetes –∏ Docker Swarm?

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**

| –ê—Å–ø–µ–∫—Ç | Kubernetes | Docker Swarm |
|--------|------------|--------------|
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è (enterprise-grade) | –ü—Ä–æ—Å—Ç–∞—è (–ª–µ–≥–∫–∏–π —Å—Ç–∞—Ä—Ç) |
| **–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞** | –û–≥—Ä–æ–º–Ω–∞—è (CNCF) | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (HPA, VPA, CA) | –†—É—á–Ω–æ–µ |
| **–°–µ—Ç—å** | –°–ª–æ–∂–Ω–∞—è (CNI –ø–ª–∞–≥–∏–Ω—ã) | –ü—Ä–æ—Å—Ç–∞—è (overlay) |
| **–•—Ä–∞–Ω–∏–ª–∏—â–µ** | –ë–æ–≥–∞—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (PV, PVC) | –ë–∞–∑–æ–≤—ã–µ volumes |
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | Prometheus, Grafana —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è** | Rolling updates, Blue-Green | Rolling updates |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | kubectl, Helm, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã | docker service |

## ‚ò∏Ô∏è **Kubernetes (—á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å)**

**Kubernetes** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –±–æ–≥–∞—Ç–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π.

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Kubernetes:**
- **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** (Pod'—ã –∏ Node'—ã)
- **–°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏ –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **–ë–æ–≥–∞—Ç–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞** (Helm, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, CNCF –ø—Ä–æ–µ–∫—Ç—ã)
- **–ì–∏–±–∫–∞—è —Å–µ—Ç—å** (CNI –ø–ª–∞–≥–∏–Ω—ã, Network Policies)
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** (CSI –¥—Ä–∞–π–≤–µ—Ä—ã, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ PV)

## üê≥ **Docker Swarm**

**Docker Swarm** ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ Docker —Å–∏—Å—Ç–µ–º–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏, –ø—Ä–æ—Å—Ç–∞—è –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker Swarm:**
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–í—Å—Ç—Ä–æ–µ–Ω –≤ Docker** (–Ω–µ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- **–ú–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤** –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## üìä **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ HA –∫–ª–∞—Å—Ç–µ—Ä–∞:**

### **1. –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å—Ç—å –≤ K8s, –Ω–µ—Ç –≤ Swarm):**
```bash
# Kubernetes: –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–¥ (3-9 –≤ –≤–∞—à–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ)
kubectl get nodes

# Kubernetes: –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ Pod'–æ–≤
kubectl get hpa -A

# Kubernetes: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
kubectl get vpa -A 2>/dev/null || echo "VPA –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

# Docker Swarm: —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
# docker service scale myapp=5
```

### **2. –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤ K8s):**
```bash
# Kubernetes: ArgoCD HA —Å 3 —Å–µ—Ä–≤–µ—Ä–∞–º–∏, 2 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏
kubectl get pods -n argocd -l app.kubernetes.io/name=argocd-server

# Kubernetes: Redis HA —Å 3 —Ä–µ–ø–ª–∏–∫–∞–º–∏
kubectl get pods -n argocd -l app=redis-ha

# Kubernetes: Anti-affinity –ø—Ä–∞–≤–∏–ª–∞
kubectl describe pod <argocd-server-pod> -n argocd | grep -A 5 "Affinity:"

# Docker Swarm: –±–∞–∑–æ–≤—ã–µ constraints
# docker service create --constraint 'node.role==worker' nginx
```

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:**
```bash
# Kubernetes: –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl get pods -n monitoring

# Prometheus —Å –±–æ–≥–∞—Ç—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
kubectl port-forward svc/prometheus-server -n monitoring 9090:80

# Grafana —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –¥–∞—à–±–æ—Ä–¥–æ–≤
kubectl port-forward svc/grafana -n monitoring 3000:80

# ServiceMonitor –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
kubectl get servicemonitor -A

# Docker Swarm: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
# –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
```

### **4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:**
```bash
# Kubernetes: ConfigMaps –∏ Secrets
kubectl get configmaps -A
kubectl get secrets -A

# Kubernetes: Helm –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏
helm list -A

# Kubernetes: –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
kubectl get crd | head -10

# Docker Swarm: Docker configs –∏ secrets
# docker config ls
# docker secret ls
```

### **5. –°–µ—Ç–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```bash
# Kubernetes: Network Policies –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
kubectl get networkpolicies -A

# Kubernetes: Ingress –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
kubectl get ingress -A

# Kubernetes: Service Mesh (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
kubectl get pods -A | grep -E "(istio|linkerd)"

# Docker Swarm: –ø—Ä–æ—Å—Ç–∞—è overlay —Å–µ—Ç—å
# docker network ls
```

### **6. –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
# Kubernetes: Storage Classes
kubectl get storageclass

# Kubernetes: Persistent Volumes
kubectl get pv

# Kubernetes: Dynamic provisioning
kubectl get pvc -A

# NFS –¥–ª—è ReadWriteMany
kubectl get pods -l app=nfs-provisioner

# Docker Swarm: –ø—Ä–æ—Å—Ç—ã–µ volumes
# docker volume ls
```

## üîÑ **–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

### **Kubernetes –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- **Enterprise –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** (–∫–∞–∫ –≤–∞—à HA –∫–ª–∞—Å—Ç–µ—Ä)
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
- **–ü—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–π** —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
- **–ö–æ–º–∞–Ω–¥ DevOps** —Å –æ–ø—ã—Ç–æ–º

```bash
# –í–∞—à –∫–ª–∞—Å—Ç–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç enterprise –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
kubectl get applications -n argocd  # GitOps
kubectl get pods -n monitoring     # Observability
kubectl get pdb -A                 # Pod Disruption Budgets
```

### **Docker Swarm –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- **–ü—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
- **–ë—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è**
- **–ù–µ–±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥**
- **–ú–∏–≥—Ä–∞—Ü–∏–∏ —Å Docker Compose**

## üè≠ **–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**

### **Kubernetes —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ (—á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å):**
```bash
# ArgoCD –¥–ª—è GitOps
kubectl get pods -n argocd

# Helm –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏
helm version

# Prometheus + Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl get pods -n monitoring

# NGINX Ingress –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
kubectl get pods -n ingress-nginx

# –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ CRD
kubectl get crd | wc -l
```

### **Docker Swarm —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–µ
- –ú–µ–Ω—å—à–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

## üìà **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–µ—Å—É—Ä—Å—ã:**

### **Kubernetes:**
```bash
# –ë–æ–ª—å—à–µ overhead –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
kubectl get pods -n kube-system | wc -l

# –ù–æ –ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl top nodes
kubectl top pods -A

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
kubectl describe nodes | grep -A 5 "Allocatable:"
```

### **Docker Swarm:**
- –ú–µ–Ω—å—à–µ overhead
- –ü—Ä–æ—Å—Ç–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üîß **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:**

### **Kubernetes (–≤–∞—à –æ–ø—ã—Ç):**
```bash
# –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
kubectl apply -f deployment.yaml

# –ë–æ–≥–∞—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∞–¥–∫–∏
kubectl describe pod <pod-name>
kubectl logs <pod-name> -f
kubectl exec -it <pod-name> -- /bin/sh

# –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
kubectl api-resources | wc -l

# Helm –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π
helm install argocd ./k8s/addons/argo-cd
```

### **Docker Swarm:**
```bash
# –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
# docker service create --name web nginx

# –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã
# docker service ls
# docker service logs web
# docker service ps web
```

## üéØ **–í—ã–≤–æ–¥—ã:**

### **Kubernetes (–≤–∞—à –≤—ã–±–æ—Ä) –ª—É—á—à–µ –¥–ª—è:**
- **–ü—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–π** ‚úÖ
- **–°–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** ‚úÖ
- **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è** ‚úÖ
- **–ë–æ–≥–∞—Ç–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** ‚úÖ
- **Enterprise —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** ‚úÖ

### **Docker Swarm –ª—É—á—à–µ –¥–ª—è:**
- **–ë—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞**
- **–ü—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
- **–ù–µ–±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥**
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤**

### **–í–∞—à HA –∫–ª–∞—Å—Ç–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Kubernetes:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
kubectl get all -A | wc -l

# –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏
kubectl get pods -n argocd -o wide

# –ë–æ–≥–∞—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl get servicemonitor -A

# GitOps workflow
kubectl get applications -n argocd
```

**Kubernetes ‚Äî —ç—Ç–æ –≤—ã–±–æ—Ä –¥–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–π, Docker Swarm ‚Äî –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á!**
