# 53. –ß—Ç–æ —Ç–∞–∫–æ–µ Secrets –∏ —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç ConfigMaps?

## üéØ **Secrets –≤ Kubernetes**

**Secret** - —ç—Ç–æ –æ–±—ä–µ–∫—Ç Kubernetes, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ç–∞–∫–æ–π –∫–∞–∫ –ø–∞—Ä–æ–ª–∏, OAuth —Ç–æ–∫–µ–Ω—ã, SSH –∫–ª—é—á–∏ –∏ TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã. Secrets –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å ConfigMaps.

## üèóÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è Secrets –æ—Ç ConfigMaps:**

### **1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- **Secrets**: –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, –∫–ª—é—á–∏, —Ç–æ–∫–µ–Ω—ã)
- **ConfigMaps**: –û–±—ã—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

### **2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **Secrets**: –î–∞–Ω–Ω—ã–µ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ Base64, –º–æ–≥—É—Ç —à–∏—Ñ—Ä–æ–≤–∞—Ç—å—Å—è –≤ etcd
- **ConfigMaps**: –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

### **3. –†–∞–∑–º–µ—Ä:**
- **Secrets**: –ú–∞–∫—Å–∏–º—É–º 1MB (–∫–∞–∫ –∏ ConfigMaps)
- **ConfigMaps**: –ú–∞–∫—Å–∏–º—É–º 1MB

### **4. –î–æ—Å—Ç—É–ø:**
- **Secrets**: –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ RBAC –ø—Ä–∞–≤–∏–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **ConfigMaps**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RBAC –ø—Ä–∞–≤–∏–ª–∞

## üìä **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ HA –∫–ª–∞—Å—Ç–µ—Ä–∞:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö Secrets:**
```bash
# –°–æ–∑–¥–∞—Ç—å namespace –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
kubectl create namespace secrets-demo

# –°–æ–∑–¥–∞—Ç—å Secret –∏–∑ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
kubectl create secret generic app-secrets \
  --from-literal=database-password=super_secret_password \
  --from-literal=api-key=abc123def456ghi789 \
  --from-literal=jwt-secret=my_jwt_secret_key_2024 \
  --from-literal=redis-password=redis_secure_pass \
  -n secrets-demo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π Secret
kubectl get secret app-secrets -n secrets-demo
kubectl describe secret app-secrets -n secrets-demo

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ Secret (Base64 encoded)
kubectl get secret app-secrets -n secrets-demo -o yaml

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è Secret
kubectl get secret app-secrets -n secrets-demo -o jsonpath='{.data.database-password}' | base64 --decode
echo
kubectl get secret app-secrets -n secrets-demo -o jsonpath='{.data.api-key}' | base64 --decode
echo
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ Secret –∏–∑ —Ñ–∞–π–ª–æ–≤:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
mkdir secret-files

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –ø–∞—Ä–æ–ª–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
echo -n "production_db_password_2024" > secret-files/db-password

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å API –∫–ª—é—á–æ–º
echo -n "sk-1234567890abcdef" > secret-files/api-key

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π OAuth
cat << EOF > secret-files/oauth-config
{
  "client_id": "hashfoundry-app-client",
  "client_secret": "oauth_client_secret_12345",
  "redirect_uri": "https://app.hashfoundry.com/auth/callback",
  "scope": "read write admin"
}
EOF

# –°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á–∏
ssh-keygen -t rsa -b 4096 -f secret-files/ssh-key -N "" -C "hashfoundry@example.com"

# –°–æ–∑–¥–∞—Ç—å Secret –∏–∑ —Ñ–∞–π–ª–æ–≤
kubectl create secret generic file-secrets \
  --from-file=secret-files/ \
  -n secrets-demo

# –°–æ–∑–¥–∞—Ç—å Secret —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏
kubectl create secret generic custom-key-secrets \
  --from-file=database_password=secret-files/db-password \
  --from-file=api_token=secret-files/api-key \
  --from-file=oauth_config=secret-files/oauth-config \
  -n secrets-demo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ Secrets
kubectl get secrets -n secrets-demo
kubectl describe secret file-secrets -n secrets-demo
```

### **3. –°–æ–∑–¥–∞–Ω–∏–µ TLS Secret:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout secret-files/tls.key \
  -out secret-files/tls.crt \
  -subj "/C=AE/ST=Dubai/L=Dubai/O=HashFoundry/OU=IT/CN=hashfoundry.local"

# –°–æ–∑–¥–∞—Ç—å TLS Secret
kubectl create secret tls hashfoundry-tls \
  --cert=secret-files/tls.crt \
  --key=secret-files/tls.key \
  -n secrets-demo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TLS Secret
kubectl get secret hashfoundry-tls -n secrets-demo
kubectl describe secret hashfoundry-tls -n secrets-demo

# –°–æ–∑–¥–∞—Ç—å TLS Secret –¥–ª—è wildcard –¥–æ–º–µ–Ω–∞
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout secret-files/wildcard.key \
  -out secret-files/wildcard.crt \
  -subj "/C=AE/ST=Dubai/L=Dubai/O=HashFoundry/OU=IT/CN=*.hashfoundry.com"

kubectl create secret tls wildcard-tls \
  --cert=secret-files/wildcard.crt \
  --key=secret-files/wildcard.key \
  -n secrets-demo
```

### **4. –°–æ–∑–¥–∞–Ω–∏–µ Docker Registry Secret:**
```bash
# –°–æ–∑–¥–∞—Ç—å Secret –¥–ª—è Docker registry
kubectl create secret docker-registry hashfoundry-registry \
  --docker-server=registry.hashfoundry.com \
  --docker-username=hashfoundry-user \
  --docker-password=registry_password_123 \
  --docker-email=devops@hashfoundry.com \
  -n secrets-demo

# –°–æ–∑–¥–∞—Ç—å Secret –¥–ª—è Docker Hub
kubectl create secret docker-registry dockerhub-secret \
  --docker-server=https://index.docker.io/v1/ \
  --docker-username=hashfoundry \
  --docker-password=dockerhub_token_456 \
  --docker-email=devops@hashfoundry.com \
  -n secrets-demo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker registry Secrets
kubectl get secret hashfoundry-registry -n secrets-demo -o yaml
kubectl get secret dockerhub-secret -n secrets-demo -o yaml
```

### **5. –°–æ–∑–¥–∞–Ω–∏–µ Secret —á–µ—Ä–µ–∑ YAML –º–∞–Ω–∏—Ñ–µ—Å—Ç:**
```bash
# –°–æ–∑–¥–∞—Ç—å comprehensive Secret —á–µ—Ä–µ–∑ YAML
cat << EOF | kubectl apply -f -
apiVersion: v1
kind: Secret
metadata:
  name: comprehensive-secret
  namespace: secrets-demo
  labels:
    app: hashfoundry
    component: security
    environment: production
  annotations:
    description: "Comprehensive secret for HashFoundry application"
    created-by: "DevOps Team"
    rotation-date: "$(date -u +%Y-%m-%dT%H:%M:%SZ)"
type: Opaque
data:
  # Database credentials (Base64 encoded)
  database-host: $(echo -n "postgres.hashfoundry.local" | base64)
  database-username: $(echo -n "hashfoundry_user" | base64)
  database-password: $(echo -n "super_secure_db_password_2024" | base64)
  database-url: $(echo -n "postgresql://hashfoundry_user:super_secure_db_password_2024@postgres.hashfoundry.local:5432/hashfoundry_prod" | base64)
  
  # API credentials
  api-key: $(echo -n "hf_api_key_1234567890abcdef" | base64)
  api-secret: $(echo -n "hf_api_secret_fedcba0987654321" | base64)
  webhook-secret: $(echo -n "webhook_secret_xyz789" | base64)
  
  # JWT configuration
  jwt-secret: $(echo -n "jwt_signing_key_very_long_and_secure_2024" | base64)
  jwt-issuer: $(echo -n "hashfoundry.com" | base64)
  jwt-audience: $(echo -n "hashfoundry-app" | base64)
  
  # External service credentials
  slack-webhook: $(echo -n "https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX" | base64)
  email-smtp-password: $(echo -n "smtp_password_secure_123" | base64)
  s3-access-key: $(echo -n "AKIAIOSFODNN7EXAMPLE" | base64)
  s3-secret-key: $(echo -n "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY" | base64)
  
  # Monitoring credentials
  prometheus-password: $(echo -n "prometheus_admin_pass" | base64)
  grafana-admin-password: $(echo -n "grafana_admin_secure_2024" | base64)
  alertmanager-webhook: $(echo -n "https://alertmanager.hashfoundry.com/webhook" | base64)
  
  # Configuration files with sensitive data
  app-config.json: $(echo -n '{
    "database": {
      "host": "postgres.hashfoundry.local",
      "username": "hashfoundry_user",
      "password": "super_secure_db_password_2024"
    },
    "redis": {
      "host": "redis.hashfoundry.local",
      "password": "redis_secure_password"
    },
    "encryption": {
      "key": "encryption_key_32_chars_long_123",
      "algorithm": "AES-256-GCM"
    }
  }' | base64 -w 0)
  
  # SSH private key for Git access
  ssh-private-key: $(echo -n "-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAFwAAAAdzc2gtcn
NhAAAAAwEAAQAAAQEA1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN
OPQRSTUVWXYZ1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRST
UVWXYZ1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ
-----END OPENSSH PRIVATE KEY-----" | base64 -w 0)
EOF

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π Secret
kubectl get secret comprehensive-secret -n secrets-demo -o yaml
```

## üîß **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Secrets –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö:**

### **1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ Secrets:**
```bash
# –°–æ–∑–¥–∞—Ç—å Deployment, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Secrets –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat << EOF | kubectl apply -f -
apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-with-secrets
  namespace: secrets-demo
spec:
  replicas: 2
  selector:
    matchLabels:
      app: app-with-secrets
  template:
    metadata:
      labels:
        app: app-with-secrets
    spec:
      containers:
      - name: app
        image: nginx:1.21
        ports:
        - containerPort: 80
        env:
        # –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ Secret
        - name: DATABASE_PASSWORD
          valueFrom:
            secretKeyRef:
              name: app-secrets
              key: database-password
        - name: API_KEY
          valueFrom:
            secretKeyRef:
              name: app-secrets
              key: api-key
        - name: JWT_SECRET
          valueFrom:
            secretKeyRef:
              name: app-secrets
              key: jwt-secret
        # –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ Secret
        envFrom:
        - secretRef:
            name: comprehensive-secret
        resources:
          requests:
            memory: "64Mi"
            cpu: "100m"
          limits:
            memory: "128Mi"
            cpu: "200m"
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ –ª–æ–≥–∞—Ö
        command: ["/bin/bash"]
        args:
        - -c
        - |
          echo "Starting application..."
          echo "Database host: $database_host"
          echo "API key length: ${#API_KEY}"
          echo "JWT secret length: ${#JWT_SECRET}"
          echo "Environment variables loaded successfully"
          nginx -g 'daemon off;'
EOF

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Pod'–µ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
kubectl get pods -n secrets-demo -l app=app-with-secrets
POD_NAME=$(kubectl get pods -n secrets-demo -l app=app-with-secrets -o jsonpath='{.items[0].metadata.name}')

echo "=== Checking environment variables (safely) ==="
kubectl exec $POD_NAME -n secrets-demo -- bash -c 'echo "API_KEY length: ${#API_KEY}"'
kubectl exec $POD_NAME -n secrets-demo -- bash -c 'echo "DATABASE_PASSWORD length: ${#DATABASE_PASSWORD}"'
```

### **2. –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Secrets –∫–∞–∫ —Ñ–∞–π–ª—ã:**
```bash
# –°–æ–∑–¥–∞—Ç—å Deployment —Å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Secrets –∫–∞–∫ —Ñ–∞–π–ª–æ–≤
cat << EOF | kubectl apply -f -
apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-with-secret-files
  namespace: secrets-demo
spec:
  replicas: 1
  selector:
    matchLabels:
      app: app-with-secret-files
  template:
    metadata:
      labels:
        app: app-with-secret-files
    spec:
      containers:
      - name: app
        image: nginx:1.21
        ports:
        - containerPort: 80
        volumeMounts:
        # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å Secret
        - name: app-secrets-volume
          mountPath: /etc/secrets
          readOnly: true
        # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª –∏–∑ Secret
        - name: database-password-volume
          mountPath: /etc/database/password
          subPath: database-password
          readOnly: true
        # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
        - name: tls-certs-volume
          mountPath: /etc/ssl/certs
          readOnly: true
        # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å SSH –∫–ª—é—á
        - name: ssh-key-volume
          mountPath: /root/.ssh/id_rsa
          subPath: ssh-private-key
          readOnly: true
        resources:
          requests:
            memory: "64Mi"
            cpu: "100m"
          limits:
            memory: "128Mi"
            cpu: "200m"
        command: ["/bin/bash"]
        args:
        - -c
        - |
          echo "Setting up secure file permissions..."
          chmod 600 /root/.ssh/id_rsa
          chmod 644 /etc/ssl/certs/tls.crt
          chmod 600 /etc/ssl/certs/tls.key
          
          echo "Checking mounted secrets..."
          echo "Secrets directory:"
          ls -la /etc/secrets/
          echo "Database password file exists: $(test -f /etc/database/password && echo 'YES' || echo 'NO')"
          echo "TLS certificates:"
          ls -la /etc/ssl/certs/
          echo "SSH key permissions:"
          ls -la /root/.ssh/id_rsa
          
          nginx -g 'daemon off;'
      volumes:
      # –í–µ—Å—å Secret –∫–∞–∫ volume
      - name: app-secrets-volume
        secret:
          secretName: app-secrets
      # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª –∏–∑ Secret
      - name: database-password-volume
        secret:
          secretName: app-secrets
          items:
          - key: database-password
            path: database-password
            mode: 0600
      # TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
      - name: tls-certs-volume
        secret:
          secretName: hashfoundry-tls
          items:
          - key: tls.crt
            path: tls.crt
            mode: 0644
          - key: tls.key
            path: tls.key
            mode: 0600
      # SSH –∫–ª—é—á —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
      - name: ssh-key-volume
        secret:
          secretName: comprehensive-secret
          items:
          - key: ssh-private-key
            path: ssh-private-key
            mode: 0600
EOF

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
kubectl get pods -n secrets-demo -l app=app-with-secret-files
POD_NAME=$(kubectl get pods -n secrets-demo -l app=app-with-secret-files -o jsonpath='{.items[0].metadata.name}')

echo "=== Checking mounted secret files ==="
kubectl exec $POD_NAME -n secrets-demo -- ls -la /etc/secrets/
kubectl exec $POD_NAME -n secrets-demo -- ls -la /etc/ssl/certs/
kubectl exec $POD_NAME -n secrets-demo -- stat /etc/database/password
```

### **3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker Registry Secret:**
```bash
# –°–æ–∑–¥–∞—Ç—å Deployment, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Docker Registry Secret
cat << EOF | kubectl apply -f -
apiVersion: apps/v1
kind: Deployment
metadata:
  name: private-registry-app
  namespace: secrets-demo
spec:
  replicas: 1
  selector:
    matchLabels:
      app: private-registry-app
  template:
    metadata:
      labels:
        app: private-registry-app
    spec:
      # –£–∫–∞–∑–∞—Ç—å Secret –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É registry
      imagePullSecrets:
      - name: hashfoundry-registry
      - name: dockerhub-secret
      containers:
      - name: app
        # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–∑–∞ –∏–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ registry
        image: registry.hashfoundry.com/hashfoundry/app:latest
        ports:
        - containerPort: 8080
        env:
        - name: ENVIRONMENT
          value: "production"
        resources:
          requests:
            memory: "128Mi"
            cpu: "100m"
          limits:
            memory: "256Mi"
            cpu: "200m"
EOF

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Deployment
kubectl get deployment private-registry-app -n secrets-demo
kubectl describe deployment private-registry-app -n secrets-demo
```

## üîí **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ Secrets –∏ ConfigMaps:**

### **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:**
```bash
# –°–æ–∑–¥–∞—Ç—å ConfigMap —Å –æ–±—ã—á–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
kubectl create configmap app-config \
  --from-literal=app_name="HashFoundry App" \
  --from-literal=log_level="INFO" \
  --from-literal=debug_mode="false" \
  --from-literal=api_endpoint="https://api.hashfoundry.com" \
  -n secrets-demo

# –°–æ–∑–¥–∞—Ç—å Secret —Å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
kubectl create secret generic app-secret \
  --from-literal=database_password="secret_password_123" \
  --from-literal=api_key="secret_api_key_456" \
  --from-literal=encryption_key="secret_encryption_key_789" \
  -n secrets-demo

# –°–æ–∑–¥–∞—Ç—å Pod, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –∏ ConfigMap, –∏ Secret
cat << EOF | kubectl apply -f -
apiVersion: v1
kind: Pod
metadata:
  name: configmap-vs-secret-demo
  namespace: secrets-demo
spec:
  containers:
  - name: demo
    image: busybox:1.35
    command: ["sh", "-c"]
    args:
    - |
      echo "=== ConfigMap vs Secret Demonstration ==="
      echo ""
      echo "Public configuration (from ConfigMap):"
      echo "App Name: \$APP_NAME"
      echo "Log Level: \$LOG_LEVEL"
      echo "Debug Mode: \$DEBUG_MODE"
      echo "API Endpoint: \$API_ENDPOINT"
      echo ""
      echo "Secret configuration (lengths only for security):"
      echo "Database Password Length: \${#DATABASE_PASSWORD}"
      echo "API Key Length: \${#API_KEY}"
      echo "Encryption Key Length: \${#ENCRYPTION_KEY}"
      echo ""
      echo "ConfigMap files:"
      ls -la /etc/config/
      echo ""
      echo "Secret files (with permissions):"
      ls -la /etc/secrets/
      echo ""
      echo "Keeping container running..."
      while true; do sleep 30; done
    env:
    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ ConfigMap
    - name: APP_NAME
      valueFrom:
        configMapKeyRef:
          name: app-config
          key: app_name
    - name: LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          name: app-config
          key: log_level
    - name: DEBUG_MODE
      valueFrom:
        configMapKeyRef:
          name: app-config
          key: debug_mode
    - name: API_ENDPOINT
      valueFrom:
        configMapKeyRef:
          name: app-config
          key: api_endpoint
    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ Secret
    - name: DATABASE_PASSWORD
      valueFrom:
        secretKeyRef:
          name: app-secret
          key: database_password
    - name: API_KEY
      valueFrom:
        secretKeyRef:
          name: app-secret
          key: api_key
    - name: ENCRYPTION_KEY
      valueFrom:
        secretKeyRef:
          name: app-secret
          key: encryption_key
    volumeMounts:
    - name: config-volume
      mountPath: /etc/config
      readOnly: true
    - name: secret-volume
      mountPath: /etc/secrets
      readOnly: true
    resources:
      requests:
        memory: "32Mi"
        cpu: "50m"
      limits:
        memory: "64Mi"
        cpu: "100m"
  volumes:
  - name: config-volume
    configMap:
      name: app-config
  - name: secret-volume
    secret:
      secretName: app-secret
      defaultMode: 0600  # –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∞ –¥–ª—è Secret
  restartPolicy: Never
EOF

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é
kubectl logs configmap-vs-secret-demo -n secrets-demo
```

### **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è ConfigMaps –∏ Secrets
cat << 'EOF' > compare-configmap-secret.sh
#!/bin/bash

NAMESPACE="secrets-demo"

echo "=== ConfigMap vs Secret Comparison ==="
echo

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–±—ä–µ–∫—Ç–∞
analyze_object() {
    local type=$1
    local name=$2
    
    if [ "$type" = "configmap" ]; then
        local data=$(kubectl get configmap $name -n $NAMESPACE -o jsonpath='{.data}' 2>/dev/null)
        local encoding="Plain text"
    else
        local data=$(kubectl get secret $name -n $NAMESPACE -o jsonpath='{.data}' 2>/dev/null)
        local encoding="Base64"
    fi
    
    local size=$(echo "$data" | wc -c)
    local keys=$(echo "$data" | jq 'keys | length' 2>/dev/null || echo "0")
    
    printf "%-15s | %-20s | %-10s | %-8s | %-10s\n" "$type" "$name" "$encoding" "${size}B" "$keys"
}

# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞–±–ª–∏—Ü—ã
printf "%-15s | %-20s | %-10s | %-8s | %-10s\n" "TYPE" "NAME" "ENCODING" "SIZE" "KEYS"
printf "%-15s | %-20s | %-10s | %-8s | %-10s\n" "$(printf '%*s' 15 | tr ' ' '-')" "$(printf '%*s' 20 | tr ' ' '-')" "$(printf '%*s' 10 | tr ' ' '-')" "$(printf '%*s' 8 | tr ' ' '-')" "$(printf '%*s' 10 | tr ' ' '-')"

# –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å ConfigMaps
for cm in $(kubectl get configmaps -n $NAMESPACE -o jsonpath='{.items[*].metadata.name}' 2>/dev/null); do
    analyze_object "configmap" "$cm"
done

# –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Secrets
for secret in $(kubectl get secrets -n $NAMESPACE -o jsonpath='{.items[*].metadata.name}' 2>/dev/null | grep -v default-token); do
    analyze_object "secret" "$secret"
done

echo
echo "=== Key Differences ==="
echo "ConfigMaps:"
echo "  ‚úì Plain text storage"
echo "  ‚úì Visible in kubectl describe"
echo "  ‚úì Used for non-sensitive configuration"
echo "  ‚úì Standard RBAC permissions"
echo
echo "Secrets:"
echo "  ‚úì Base64 encoded storage"
echo "  ‚úì Hidden values in kubectl describe"
echo "  ‚úì Used for sensitive data"
echo "  ‚úì Stricter RBAC permissions"
echo "  ‚úì Can be encrypted at rest"
echo "  ‚úì Special types (TLS, Docker registry, etc.)"
EOF

chmod +x compare-configmap-secret.sh
./compare-configmap-secret.sh
```

## üîê **Advanced —Ç–µ—Ö–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å Secrets:**

### **1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Secrets:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π
cat << 'EOF' > rotate-secrets.sh
#!/bin/bash

NAMESPACE="secrets-demo"

echo "=== Secret Rotation Demonstration ==="
echo

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
generate_password() {
    openssl rand -base64 32 | tr -d "=+/" | cut -c1-25
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ Secret
rotate_secret() {
    local secret_name=$1
    local key_name=$2
    
    echo "Rotating secret: $secret_name, key: $key_name"
    
    # –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
    local new_password=$(generate_password)
    
    # –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π Secret
    kubectl get secret $secret_name -n $NAMESPACE -o yaml > /tmp/secret-backup.yaml
    
    # –û–±–Ω–æ–≤–∏—Ç—å Secret —Å –Ω–æ–≤—ã–º –ø–∞—Ä–æ–ª–µ–º
    kubectl patch secret $secret_name -n $NAMESPACE --type='merge' -p="{\"data\":{\"$key_name\":\"$(echo -n $new_password | base64)\"}}"
    
    echo "Secret $secret_name updated with new $key_name"
    echo "New password length: ${#new_password}"
    echo "Backup saved to /tmp/secret-backup.yaml"
    echo
}

# –†–æ—Ç–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
rotate_secret "app-secrets" "database-password"
rotate_secret "app-secrets" "api-key"
rotate_secret "comprehensive-secret" "jwt-secret"

echo "=== Verifying rotation ==="
kubectl get secret app-secrets -n $NAMESPACE -o jsonpath='{.metadata.annotations}' | jq '.'
EOF

chmod +x rotate-secrets.sh
./rotate-secrets.sh
```

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–∞ –∫ Secrets:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Secrets
cat << 'EOF' > monitor-secrets.sh
#!/bin/bash

NAMESPACE="secrets-demo"

echo "=== Secret Usage Monitoring ==="
echo

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Secret –≤ Pod'–∞—Ö
check_secret_usage() {
    local secret_name=$1
    
    echo "Checking usage of secret: $secret_name"
    
    # –ù–∞–π—Ç–∏ Pod'—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ Secret —á–µ—Ä–µ–∑ env
    local env_pods=$(kubectl get pods -n $NAMESPACE -o jsonpath='{range .items[*]}{.metadata.name}{"\t"}{.spec.containers[*].env[?(@.valueFrom.secretKeyRef.name=="'$secret_name'")].valueFrom.secretKeyRef.name}{"\n"}{end}' | grep -v "^$")
    
    # –ù–∞–π—Ç–∏ Pod'—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ Secret —á–µ—Ä–µ–∑ envFrom
    local envfrom_pods=$(kubectl get pods -n $NAMESPACE -o jsonpath='{range .items[*]}{.metadata.name}{"\t"}{.spec.containers[*].envFrom[?(@.secretRef.name=="'$secret_name'")].secretRef.name}{"\n"}{end}' | grep -v "^$")
    
    # –ù–∞–π—Ç–∏ Pod'—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ Secret —á–µ—Ä–µ–∑ volumes
    local volume_pods=$(kubectl get pods -n $NAMESPACE -o jsonpath='{range .items[*]}{.metadata.name}{"\t"}{.spec.volumes[?(@.secret.secretName=="'$secret_name'")].secret.secretName}{"\n"}{end}' | grep -v "^$")
    
    echo "  Environment variables:"
    if [ -n "$env_pods" ]; then
        echo "$env_pods" | sed 's/^/    /'
    else
        echo "    None"
    fi
    
    echo "  Environment from:"
    if [ -n "$envfrom_pods" ]; then
        echo "$envfrom_pods" | sed 's/^/    /'
    else
        echo "    None"
    fi
    
    echo "  Volume mounts:"
    if [ -n "$volume_pods" ]; then
        echo "$volume_pods" | sed 's/^/    /'
    else
        echo "    None"
    fi
    echo
}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö Secrets
for secret in $(kubectl get secrets -n $NAMESPACE -o jsonpath='{.items[*].metadata.name}' | grep -v default-token); do
    check_secret_usage "$secret"
done

echo "=== Secret Security Analysis ==="
for secret in $(kubectl get secrets -n $NAMESPACE -o jsonpath='{.items[*].metadata.name}' | grep -v default-token); do
    echo "Secret: $secret"
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø Secret
    local type=$(kubectl get secret $secret -n $NAMESPACE -o jsonpath='{.type}')
    echo "  Type: $type"
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä
    local size=$(kubectl get secret $secret -n $NAMESPACE -o jsonpath='{.data}' | wc -c)
    echo "  Size: ${size} bytes"
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π
    local keys=$(kubectl get secret $secret -n $NAMESPACE -o jsonpath='{.data}' | jq 'keys | length')
    echo "  Keys: $keys"
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    local labels=$(kubectl get secret $secret -n $NAMESPACE -o jsonpath='{.metadata.labels}' | jq -r 'keys[]' 2>/dev/null || echo "None")
    echo "  Security labels: $labels"
    echo
done
EOF

chmod +x monitor-secrets.sh
./monitor-secrets.sh
```

## üßπ **–û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤:**
```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã Secrets –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
kubectl delete namespace secrets-demo

# –£–¥–∞–ª–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
rm -rf secret-files
rm -f compare-configmap-secret.sh rotate-secrets.sh monitor-secrets.sh
```

## üìã **–°–≤–æ–¥–∫–∞ –∫–æ–º–∞–Ω–¥ –¥–ª—è Secrets:**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
# –°–æ–∑–¥–∞—Ç—å Secret –∏–∑ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
kubectl create secret generic mysecret --from-literal=key1=value1

# –°–æ–∑–¥–∞—Ç—å Secret –∏–∑ —Ñ–∞–π–ª–æ–≤
kubectl create secret generic mysecret --from-file=secret.txt

# –°–æ–∑–¥–∞—Ç—å TLS Secret
kubectl create secret tls mytls --cert=tls.crt --key=tls.key

# –°–æ–∑–¥–∞—Ç—å Docker registry Secret
kubectl create secret docker-registry myregistry \
  --docker-server=server --docker-username=user \
  --docker-password=pass --docker-email=email

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Secret
kubectl get secret mysecret
kubectl describe secret mysecret
kubectl get secret mysecret -o yaml

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
kubectl get secret mysecret -o jsonpath='{.data.key1}' | base64 --decode

# –û–±–Ω–æ–≤–∏—Ç—å Secret
kubectl patch secret mysecret --type='merge' -p='{"data":{"key1":"bmV3X3ZhbHVl"}}'

# –£–¥–∞–ª–∏—Ç—å Secret
kubectl delete secret mysecret
```

## üìä **–î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ ConfigMaps –∏ Secrets:**

| **–ê—Å–ø–µ–∫—Ç** | **ConfigMaps** | **Secrets** |
|------------|----------------|-------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –û–±—ã—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| **–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** | –û—Ç–∫—Ä—ã—Ç—ã–π —Ç–µ–∫—Å—Ç | Base64 |
| **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** | –ù–µ—Ç | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤ etcd |
| **–í–∏–¥–∏–º–æ—Å—Ç—å** | –í–∏–¥–Ω–æ –≤ describe | –°–∫—Ä—ã—Ç–æ –≤ describe |
| **RBAC** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∞ | –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∞ |
| **–¢–∏–ø—ã** | –¢–æ–ª—å–∫–æ Opaque | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã |
| **–†–∞–∑–º–µ—Ä** | –î–æ 1MB | –î–æ 1MB |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | env, envFrom, volumes | env, envFrom, volumes, imagePullSecrets |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |
| **–ê—É–¥–∏—Ç** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π |

## üéØ **Best Practices –¥–ª—è Secrets:**

### **1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** Secrets –≤ Git
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã** —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- **–†–æ—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã** —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø** —á–µ—Ä–µ–∑ RBAC
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

### **2. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:**
- **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ** —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞** –∏ –º–µ—Ç–∫–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ Secret
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π—Ç–µ** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ–∫—Ä–µ—Ç—ã

### **3. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ** —Ä–æ—Ç–∞—Ü–∏—é —Å–µ–∫—Ä–µ—Ç–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ init containers** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤
- **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

### **4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Sealed Secrets** –¥–ª—è GitOps
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å Vault** –∏–ª–∏ AWS Secrets Manager
- **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ CSI drivers** –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Service Mesh** –¥–ª—è mTLS

## üîê **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Secrets vs ConfigMaps:**

### **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Secrets –¥–ª—è:**
- –ü–∞—Ä–æ–ª–µ–π –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- API –∫–ª—é—á–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤
- TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ –∫–ª—é—á–µ–π
- SSH –∫–ª—é—á–µ–π
- OAuth —Ç–æ–∫–µ–Ω–æ–≤
- Encryption keys
- Docker registry credentials

### **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ConfigMaps –¥–ª—è:**
- –ù–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- Environment-specific –Ω–∞—Å—Ç—Ä–æ–µ–∫
- Feature flags
- Logging –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- Monitoring –Ω–∞—Å—Ç—Ä–æ–µ–∫
- Public API endpoints

**Secrets –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ ConfigMaps –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!**
