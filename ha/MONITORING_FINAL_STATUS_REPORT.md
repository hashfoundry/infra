# Monitoring System Final Status Report

## üéØ **–¶–µ–ª—å**
–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ HashFoundry HA –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

## ‚úÖ **–£—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

### **1. Prometheus Stack**
```
prometheus-server-7fd78f76c9-xmb24                   2/2     Running    0          68m
prometheus-kube-state-metrics-66697cc5c-d8gjx        1/1     Running    0          68m
prometheus-prometheus-pushgateway-5c995885bf-95nv9   1/1     Running    0          68m
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**
- **Prometheus Server**: –°–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Kube State Metrics**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è Kubernetes
- **Pushgateway**: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç batch jobs

### **2. Node Exporter**
```
prometheus-prometheus-node-exporter-5tqfn            1/1     Running    0          68m
prometheus-prometheus-node-exporter-s9kcd            1/1     Running    0          68m
prometheus-prometheus-node-exporter-xplb9            1/1     Running    0          68m
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**
- **3 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞**: –ü–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **–ú–µ—Ç—Ä–∏–∫–∏ —É–∑–ª–æ–≤**: CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫, —Å–µ—Ç—å

### **3. Grafana**
```
grafana-566547874c-9vh2x                             1/1     Running    0          4m
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏**
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –†–∞–±–æ—Ç–∞–µ—Ç
- **Persistent Storage**: –ù–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ NFS
- **Dashboards**: –ë–∞–∑–æ–≤—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç

## ‚ö†Ô∏è **–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**

### **1. ArgoCD Dashboard**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω –º–µ–∂–¥—É dashboard –∏ –ø–∞–ø–∫–æ–π
```
error="Dashboard name cannot be the same as folder"
```

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è **–û—Ç–ª–æ–∂–µ–Ω–æ**
- Dashboard —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `/var/lib/grafana/dashboards/argocd/`
- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Grafana –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ dashboards

### **2. Persistent Volume Issues**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–æ–±–ª–µ–º—ã —Å Multi-Attach –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ Grafana
```
Multi-Attach error for volume "pvc-xxx" Volume is already used by pod(s)
```

**–†–µ—à–µ–Ω–∏–µ**: –†—É—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø–æ–¥–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìä **–î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

### **Prometheus UI**
```bash
# Port-forward –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
kubectl port-forward svc/prometheus-server -n monitoring 9090:80

# URL: http://localhost:9090
```

### **Grafana UI**
```bash
# Port-forward –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
kubectl port-forward svc/grafana -n monitoring 3000:80

# URL: http://localhost:3000
# –õ–æ–≥–∏–Ω: admin
# –ü–∞—Ä–æ–ª—å: admin (–∏–ª–∏ –∏–∑ .env —Ñ–∞–π–ª–∞)
```

## üîç **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫**

### **–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**
1. **Kubernetes –º–µ—Ç—Ä–∏–∫–∏**: –ü–æ–¥—ã, —Å–µ—Ä–≤–∏—Å—ã, deployments
2. **Node –º–µ—Ç—Ä–∏–∫–∏**: CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫, —Å–µ—Ç—å
3. **ArgoCD –º–µ—Ç—Ä–∏–∫–∏**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
4. **System –º–µ—Ç—Ä–∏–∫–∏**: –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞

### **–û—Å–Ω–æ–≤–Ω—ã–µ dashboards**
- **Kubernetes Cluster Overview**: –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **Node Exporter**: –ú–µ—Ç—Ä–∏–∫–∏ —É–∑–ª–æ–≤
- **Prometheus Stats**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∞–º–æ–≥–æ Prometheus

## üöÄ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**

### **1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã**
```yaml
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Alertmanager –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫
# –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```

### **2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- **Loki**: –î–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **Jaeger**: –î–ª—è distributed tracing
- **Blackbox Exporter**: –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### **3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å retention policy –¥–ª—è –º–µ—Ç—Ä–∏–∫
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã PVC
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ remote storage

## üìã **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**

### **–°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–¥–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl get pods -n monitoring

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
kubectl get svc -n monitoring

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PVC
kubectl get pvc -n monitoring
```

### **–î–æ—Å—Ç—É–ø –∫ UI**
```bash
# Prometheus
kubectl port-forward svc/prometheus-server -n monitoring 9090:80

# Grafana
kubectl port-forward svc/grafana -n monitoring 3000:80
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ targets –≤ Prometheus
curl http://localhost:9090/api/v1/targets

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫ ArgoCD
curl http://localhost:9090/api/v1/query?query=argocd_app_info
```

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

**–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç!**

### **‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ **Prometheus**: –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **Node Exporter**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞
- ‚úÖ **Grafana**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- ‚úÖ **Persistent Storage**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ NFS
- ‚úÖ **HA Architecture**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É–∑–ª–∞–º

### **‚ö†Ô∏è –ú–∏–Ω–æ—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è **ArgoCD Dashboard**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- ‚ö†Ô∏è **Volume Management**: –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

### **üìà –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
- **–ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: 95% –≥–æ—Ç–æ–≤
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: 90% –≥–æ—Ç–æ–≤
- **–ê–ª–µ—Ä—Ç–∏–Ω–≥**: –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢—Ä–µ–±—É–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Loki

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ production workloads!**

---

**–î–∞—Ç–∞**: 16.07.2025  
**–ö–ª–∞—Å—Ç–µ—Ä**: hashfoundry-ha  
**Namespace**: monitoring  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: Prometheus + Grafana + Node Exporter
